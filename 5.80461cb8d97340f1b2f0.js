(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{IsE6:function(t,o,e){"use strict";e.r(o),e.d(o,"ItemsModule",(function(){return w}));var i=e("ofXK"),c=e("3Pt+"),b=e("tyNb"),a=e("fXoL"),r=e("AytR"),n=e("tk/3");const s=r.a.nytapiurl,l=r.a.apikey;let d=(()=>{class t{constructor(t){this.http=t}getBooksList(){return this.http.get(s+"svc/books/v3/lists/full-overview.json?api-key="+l)}getBooksBasedOnCategory(t){return this.http.get(s+"svc/books/v3/lists/"+t.date+"/"+t.category+"?api-key="+l)}}return t.\u0275fac=function(o){return new(o||t)(a.Wb(n.a))},t.\u0275prov=a.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function u(t,o){if(1&t){const t=a.Tb();a.Sb(0,"div"),a.Sb(1,"div",5),a.Sb(2,"div",6),a.Sb(3,"div",7),a.Zb("click",(function(){a.rc(t);const e=o.$implicit;return a.dc().chooseCategory(e)})),a.Bc(4),a.Rb(),a.Rb(),a.Rb(),a.Rb()}if(2&t){const t=o.$implicit;a.Bb(4),a.Dc(" ",t.list_name," ")}}let p=(()=>{class t{constructor(t,o){this.service=t,this.route=o}ngOnInit(){this.getBookNmaeList()}getBookNmaeList(){this.service.getBooksList().subscribe(t=>{this.generalDetails=t,console.log("generalDetails",this.generalDetails),this.bookList=t.results.lists,console.log(t)})}chooseCategory(t){console.log("type of choosen",t.list_name_encoded),this.route.navigate(["items/books",t.list_name_encoded])}homenavigate(){this.route.navigate(["NYT"])}}return t.\u0275fac=function(o){return new(o||t)(a.Mb(d),a.Mb(b.b))},t.\u0275cmp=a.Gb({type:t,selectors:[["app-books"]],decls:8,vars:1,consts:[[1,"card"],[1,"card-body"],[1,"homelink",3,"click"],[1,"row"],[4,"ngFor","ngForOf"],[1,"col","paddingbetweencol"],[1,"card","listname",2,"width","18rem"],[1,"card-body",3,"click"]],template:function(t,o){1&t&&(a.Sb(0,"div",0),a.Sb(1,"div",1),a.Sb(2,"h1"),a.Sb(3,"i",2),a.Zb("click",(function(){return o.homenavigate()})),a.Bc(4,"Home"),a.Rb(),a.Bc(5,"/Book Category"),a.Rb(),a.Sb(6,"div",3),a.zc(7,u,5,1,"div",4),a.Rb(),a.Rb(),a.Rb()),2&t&&(a.Bb(7),a.jc("ngForOf",o.bookList))},directives:[i.k],styles:[".paddingbetweencol[_ngcontent-%COMP%]{padding:10px}.listname[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{box-shadow:8px 8px 8px #000;cursor:pointer}.homelink[_ngcontent-%COMP%]{color:#00f;cursor:pointer;text-decoration:underline}"]}),t})();var g=e("kmnG"),m=e("qFsG"),k=e("iadO"),h=e("bTqV"),f=e("NFeN");function S(t,o){if(1&t){const t=a.Tb();a.Sb(0,"div",21),a.Sb(1,"div",0),a.Sb(2,"h5",22),a.Sb(3,"b"),a.Bc(4,"Rank:"),a.Rb(),a.Sb(5,"button",23),a.Bc(6),a.Rb(),a.Rb(),a.Nb(7,"img",24),a.Sb(8,"div",1),a.Sb(9,"h5",25),a.Sb(10,"b"),a.Bc(11,"Book:"),a.Rb(),a.Bc(12),a.Rb(),a.Sb(13,"p",26),a.Sb(14,"b"),a.Bc(15," Description: "),a.Rb(),a.Bc(16),a.Rb(),a.Sb(17,"p",26),a.Sb(18,"b"),a.Bc(19," Author:"),a.Rb(),a.Bc(20),a.Rb(),a.Sb(21,"p",26),a.Sb(22,"b"),a.Bc(23," Price:"),a.Rb(),a.Bc(24),a.Rb(),a.Sb(25,"p",26),a.Sb(26,"b"),a.Bc(27," Publisher:"),a.Rb(),a.Bc(28),a.Rb(),a.Sb(29,"p",26),a.Sb(30,"b"),a.Bc(31," Rank last week:"),a.Rb(),a.Bc(32),a.Rb(),a.Sb(33,"p",26),a.Sb(34,"b"),a.Bc(35," Buy Link:"),a.Rb(),a.Sb(36,"button",27),a.Zb("click",(function(){a.rc(t);const e=o.$implicit;return a.dc().buylistTotal(e)})),a.Sb(37,"mat-icon"),a.Bc(38,"visibility"),a.Rb(),a.Rb(),a.Rb(),a.Rb(),a.Rb(),a.Rb()}if(2&t){const t=o.$implicit;a.Bb(6),a.Dc(" #",t.rank," "),a.Bb(1),a.kc("src",t.book_image,a.sc),a.Bb(5),a.Dc(" ",t.title,""),a.Bb(4),a.Dc("",t.description," "),a.Bb(4),a.Dc(" ",t.author," "),a.Bb(4),a.Dc(" ",t.price," "),a.Bb(4),a.Dc(" ",t.publisher," "),a.Bb(4),a.Dc(" ",t.rank_last_week," ")}}function B(t,o){if(1&t&&(a.Sb(0,"div"),a.Sb(1,"a",28),a.Bc(2),a.Rb(),a.Rb()),2&t){const t=o.$implicit,e=o.index;a.Bb(1),a.kc("href",t.url,a.sc),a.Bb(1),a.Ec(" ",e+1,". ",t.name," ")}}const y=[{path:"category",component:p},{path:"books/:data",component:(()=>{class t{constructor(t,o,e,i,c){this.service=t,this.route=o,this.activateroute=e,this.fb=i,this.datepipe=c}ngOnInit(){this.activateroute.paramMap.subscribe(t=>{let o=t.get("data");console.log(" category call ",o),this.CategoryName=o}),this.BookCategorySearch=this.fb.group({date:new Date,category:this.CategoryName}),this.pickingDate()}pickingDate(){console.log("date");let t=this.BookCategorySearch.value,o=this.datepipe.transform(t.date,"yyyy-MM-dd"),e={category:t.category,date:o};console.log("searchvalue",e),this.service.getBooksBasedOnCategory(e).subscribe(t=>{this.generalData=t,this.booksList=t.results.books,console.log("books based on Search",this.booksList)})}buylistTotal(t){console.log("bookBuyList",t),this.bookBuyListSuppliers=t.buy_links}backnavigate(){this.route.navigate(["items/category"])}}return t.\u0275fac=function(o){return new(o||t)(a.Mb(d),a.Mb(b.b),a.Mb(b.a),a.Mb(c.d),a.Mb(i.e))},t.\u0275cmp=a.Gb({type:t,selectors:[["app-books-view"]],decls:38,vars:6,consts:[[1,"card"],[1,"card-body"],[1,"homelink",3,"click"],[3,"formGroup"],[1,"row"],[1,"col-sm-10","col-md-10","col-lg-10"],["matInput","","readonly","","formControlName","date",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],[1,"col-sm-2","col-md-2","col-lg-2"],["mat-fab","","color","primary","aria-label","search",3,"click"],["class","col-sm-4 col-md-4 col-lg-4",4,"ngFor","ngForOf"],["id","buylist","tabindex","-1","role","dialog","aria-labelledby","buylist","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","buylist",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[4,"ngFor","ngForOf"],[1,"col-sm-4","col-md-4","col-lg-4"],[1,"card-header"],["mat-mini-fab","","color","primary","aria-label","book mark"],["alt","books",1,"card-img-top",2,"height","220px",3,"src"],[1,"card-title"],[1,"card-text"],["mat-mini-fab","","color","primary","data-toggle","modal","data-target","#buylist",3,"click"],["target","_blank","rel","noreferrer noopener",3,"href"]],template:function(t,o){if(1&t&&(a.Sb(0,"div",0),a.Sb(1,"div",1),a.Sb(2,"h2"),a.Sb(3,"i",2),a.Zb("click",(function(){return o.backnavigate()})),a.Bc(4,"Category"),a.Rb(),a.Bc(5),a.Rb(),a.Nb(6,"br"),a.Sb(7,"form",3),a.Sb(8,"div",4),a.Sb(9,"div",5),a.Sb(10,"mat-form-field"),a.Sb(11,"mat-label"),a.Bc(12,"Choose a date"),a.Rb(),a.Nb(13,"input",6),a.Sb(14,"mat-hint"),a.Bc(15,"MM/DD/YYYY"),a.Rb(),a.Nb(16,"mat-datepicker-toggle",7),a.Nb(17,"mat-datepicker",null,8),a.Rb(),a.Rb(),a.Sb(19,"div",9),a.Sb(20,"button",10),a.Zb("click",(function(){return o.pickingDate()})),a.Sb(21,"mat-icon"),a.Bc(22,"search"),a.Rb(),a.Rb(),a.Rb(),a.Rb(),a.Rb(),a.Sb(23,"h2"),a.Bc(24,"Books"),a.Rb(),a.Sb(25,"div",4),a.zc(26,S,39,8,"div",11),a.Rb(),a.Rb(),a.Rb(),a.Sb(27,"div",12),a.Sb(28,"div",13),a.Sb(29,"div",14),a.Sb(30,"div",15),a.Sb(31,"h2",16),a.Bc(32,"Suppliers"),a.Rb(),a.Sb(33,"button",17),a.Sb(34,"span",18),a.Bc(35,"\xd7"),a.Rb(),a.Rb(),a.Rb(),a.Sb(36,"div",19),a.zc(37,B,3,3,"div",20),a.Rb(),a.Rb(),a.Rb(),a.Rb()),2&t){const t=a.pc(18);a.Bb(5),a.Dc("/Selected Category:",o.CategoryName,""),a.Bb(2),a.jc("formGroup",o.BookCategorySearch),a.Bb(6),a.jc("matDatepicker",t),a.Bb(3),a.jc("for",t),a.Bb(10),a.jc("ngForOf",o.booksList),a.Bb(11),a.jc("ngForOf",o.bookBuyListSuppliers)}},directives:[c.q,c.l,c.f,g.c,g.g,m.b,c.c,k.b,c.k,c.e,g.f,k.d,g.h,k.a,h.a,f.a,i.k],styles:[".homelink[_ngcontent-%COMP%]{color:#00f;cursor:pointer;text-decoration:underline}"]}),t})()}];let R=(()=>{class t{}return t.\u0275mod=a.Kb({type:t}),t.\u0275inj=a.Jb({factory:function(o){return new(o||t)},imports:[[b.c.forChild(y)],b.c]}),t})();var v=e("bZ3k");let w=(()=>{class t{}return t.\u0275mod=a.Kb({type:t}),t.\u0275inj=a.Jb({factory:function(o){return new(o||t)},imports:[[i.c,R,v.a,c.g,c.o]]}),t})()}}]);